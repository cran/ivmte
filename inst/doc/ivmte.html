<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="data:text/css;charset=utf-8,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A" rel="stylesheet">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="ivmte-an-r-package-for-marginal-treatment-effect-methods">ivmte: An R Package for Marginal Treatment Effect Methods</h1>
<p>Joshua Shea and Alexander Torgovitsky</p>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#scope-of-this-vignette">Scope of this Vignette</a></li>
<li><a href="#installation-and-requirements">Installation and Requirements</a></li>
<li><a href="#usage-demonstration">Usage Demonstration</a>
<ul>
<li><a href="#data-and-background">Data and Background</a></li>
<li><a href="#syntax-and-output-overview">Syntax and Output Overview</a></li>
<li><a href="#specifying-the-mtr-functions">Specifying the MTR Functions</a></li>
<li><a href="#specifying-the-target-parameter">Specifying the Target Parameter</a></li>
<li><a href="#specifying-the-iv--like-estimands">Specifying the IV--Like Estimands</a></li>
<li><a href="#specifying-the-propensity-score">Specifying the Propensity Score</a></li>
<li><a href="#point-identified-models">Point Identified Models</a></li>
<li><a href="#confidence-intervals">Confidence Intervals</a></li>
<li><a href="#specification-tests">Specification Tests</a></li>
<li><a href="#plotting-mtrs-and-mtes">Plotting MTRs and MTEs</a></li>
<li><a href="#plotting-weights">Plotting weights</a></li>
</ul></li>
<li><a href="#help-feature-requests-and-bug-reports">Help, Feature Requests and Bug Reports</a></li>
<li><a href="#references">References</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>Heckman and Vytlacil (2005) introduced the marginal treatment effect (MTE) to provide a choice-theoretic interpretation for the widely used instrumental variables model of Imbens and Angrist (1994). The MTE can be used to formally extrapolate from the compliers to estimate treatment effects for other subpopulations.</p>
<p>The <strong>ivmte</strong> package provides a flexible set of methods for conducting this extrapolation. The package uses the moment-based framework developed by Mogstad, Santos, and Torgovitsky (2018), which accommodates both point identification and partial identification (bounds), both parametric and nonparametric models, and allows the user to maintain additional shape constraints.</p>
<h2 id="scope-of-this-vignette">Scope of this Vignette</h2>
<p>This vignette is intended as a guide to using <strong>ivmte</strong> for users already familiar with MTE methods. The key defintions and concepts from that literature are used without further explanation. We have written a paper (Shea and Torgovitsky 2019) that discusses both the MTE methodology and the usage of <strong>ivmte</strong>, which should be helpful for users unfamiliar with MTE methods. The survey article by Mogstad and Torgovitsky (2018) provides additional theoretical background on MTE methods, including the moment-based implementation used in this module.</p>
<h2 id="installation-and-requirements">Installation and Requirements</h2>
<p><strong>ivmte</strong> can be installed from CRAN via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;ivmte&quot;</span>)</code></pre></div>
<p>If you have the <strong>devtools</strong> package, you can install the latest version of the module directly from our GitHub repository via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;jkcshea/ivmte&quot;</span>)</code></pre></div>
<p>Two additional packages are also required for <strong>ivmte</strong>:</p>
<ol>
<li><strong>splines2</strong> for specifying models with polynomial splines. This package is available on CRAN.</li>
<li>A package for solving linear programs. There are three options here:
<ol>
<li>Gurobi and the Gurobi R package <strong>gurobi</strong>, which can be obtained from <a href="http://www.gurobi.com/index">Gurobi Optimization</a>. This option requires a Gurobi software license, which Gurobi Optimization offers at no cost to academic researchers.</li>
<li>CPLEX and the package <strong>cplexAPI</strong>, which is available on CRAN. CPLEX can be obtained from <a href="https://www.ibm.com/analytics/cplex-optimizer">IBM</a>. This option requires a software license, which IBM offers at no cost to academic researchers.</li>
<li>The <strong>lpSolveAPI</strong> package, which is free and open-source, and available from CRAN. Note that <strong>lpSolveAPI</strong> is a wrapper for <a href="http://lpsolve.sourceforge.net/5.5/">lp_solve</a>, which is no longer actively developed.</li>
</ol></li>
</ol>
<p><strong>ivmte</strong> tries to automatically choose a solver from those available, with preference being given to Gurobi and CPLEX. We have provided the option to use <strong>lpSolveAPI</strong> because it appears to be the only interface for solving linear programs that can be installed solely through <code>install.packages</code>. However, we <em>strongly</em> recommend using Gurobi or CPLEX, since these are actively developed, much more stable, and typically an order of magnitude faster than <strong>lpSolveAPI</strong>. A very clear installation guide for Gurobi can be found <a href="https://cran.r-project.org/package=prioritizr/vignettes/gurobi_installation.html">here</a></p>
<h2 id="usage-demonstration">Usage Demonstration</h2>
<h3 id="data-and-background">Data and Background</h3>
<p>We will use a subsample of 209133 women from the data used in Angrist and Evans (1998). The data is included with <strong>ivmte</strong> and has the following structure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ivmte)
knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">head</span>(AE, <span class="dt">n =</span> <span class="dv">10</span>))</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">worked</th>
<th align="right">hours</th>
<th align="right">morekids</th>
<th align="right">samesex</th>
<th align="right">yob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">52</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">45</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">35</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">49</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">50</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">50</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">51</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">40</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">51</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">40</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">46</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">45</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">30</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">44</td>
</tr>
</tbody>
</table>
<p>We will use these variables as follows:</p>
<ul>
<li><code>worked</code> is a binary outcome variable that indicates whether the woman was working.</li>
<li><code>hours</code> is a multivalued outcome variable that measures the number of hours the woman worked per week.</li>
<li><code>morekids</code> is a binary treatment variable that indicates whether a woman had more than two children or exactly two children.
<ul>
<li>Note that Angrist and Evans (1998) removed women with fewer than two children when constructing their sample.</li>
<li>Also note that the treatment variable must be binary.</li>
</ul></li>
<li><code>samesex</code> is an indicator for whether the woman's first two children had the same sex (male-male or female-female). This is used as an instrument for <code>morekids</code>.</li>
<li><code>yob</code> is the woman's year of birth (i.e. her age), which will be used as a conditioning variable.</li>
</ul>
<p>A goal of Angrist and Evans (1998) was to estimate the causal effect of <code>morekids</code> on either <code>worked</code> or <code>hours</code>. A linear regression of <code>worked</code> on <code>morekids</code> yields:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(<span class="dt">data =</span> AE, worked <span class="op">~</span><span class="st"> </span>morekids)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = worked ~ morekids, data = AE)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)     morekids  </span>
<span class="co">#&gt;      0.5822      -0.1423</span></code></pre></div>
<p>The regression shows that women with three or more children are about 14--15% less likely to be working than women with exactly two children. Is this because children have a negative impact on a woman's labor supply? Or is it because women with a weaker attachment to the labor market choose to have more children?</p>
<p>Angrist and Evans (1998) address this question by using <code>samesex</code> as an instrument for <code>morekids</code>. We expect that <code>samesex</code> is randomly assigned, so that among women with two or more children, those with weak labor market attachment are just as likely as those with strong labor market attachment to have to have two boys or two girls for their first two children. A regression shows that women whose first two children had the same sex are also more likely to go on to have a third child:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(<span class="dt">data =</span> AE, morekids <span class="op">~</span><span class="st"> </span>samesex)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = morekids ~ samesex, data = AE)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)      samesex  </span>
<span class="co">#&gt;     0.30214      0.05887</span></code></pre></div>
<p>Thus, <code>samesex</code> constitutes a potential instrumental variable for <code>morekids</code>. We can run a simple instrumental variable regression using the <code>ivreg</code> command from the <strong>AER</strong> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;AER&quot;</span>)
<span class="kw">ivreg</span>(<span class="dt">data =</span> AE, worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">|</span><span class="st"> </span>samesex )
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; ivreg(formula = worked ~ morekids | samesex, data = AE)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)     morekids  </span>
<span class="co">#&gt;     0.56315     -0.08484</span></code></pre></div>
<p>The coefficient on <code>morekids</code> is smaller in magnitude than it was in the linear regression of <code>worked</code> on <code>morekids</code>. This suggests that the linear regression overstates the negative impact that children have on a woman's labor supply. The likely explanation is that women who have more children were less likely to work anyway.</p>
<p>An important caveat to this reasoning, first discussed by Imbens and Angrist (1994), is that it applies only to the group of <em>compliers</em> who would have had a third child if and only if their first two children were same sex. (This interpretation requires the so-called <em>monotonicity</em> condition.) The first stage regression of <code>morekids</code> on <code>samesex</code> shows that this group comprises less than 6% of the entire population. Thus, the complier subpopulation is a small and potentially unrepresentative group of individuals.</p>
<p>Is the relationship between fertility and labor supply for the compliers the same as for other groups? The answer is important if we want to use an instrumental variable estimator to inform policy questions. The purpose of <strong>ivmte</strong> is to provide a formal framework for answering this type of extrapolation question.</p>
<hr />
<p>For demonstrating some of the features of <strong>ivmte</strong>, it will also be useful to use a simulated dataset. The following code, which is contained in <code>./extdata/ivmteSimData.R</code>, generates some simulated data from a simple DGP. The simulated data is also included with the package as <code>./data/ivmteSimData.rda</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">1</span>)
n &lt;-<span class="st"> </span><span class="dv">5000</span>
u &lt;-<span class="st"> </span><span class="kw">runif</span>(n)
z &lt;-<span class="st"> </span><span class="kw">rbinom</span>(n, <span class="dv">3</span>, .<span class="dv">5</span>)
x &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">cut</span>(<span class="kw">rnorm</span>(n), <span class="dv">10</span>)) <span class="co"># normal discretized into 10 bins</span>
d &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(u <span class="op">&lt;</span><span class="st"> </span>z<span class="op">*</span>.<span class="dv">25</span> <span class="op">+</span><span class="st"> </span>.<span class="dv">01</span><span class="op">*</span>x)

v0 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n) <span class="op">+</span><span class="st"> </span>.<span class="dv">2</span><span class="op">*</span>u
m0 &lt;-<span class="st"> </span><span class="dv">0</span>
y0 &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(m0 <span class="op">+</span><span class="st"> </span>v0 <span class="op">+</span><span class="st"> </span>.<span class="dv">1</span><span class="op">*</span>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)

v1 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n) <span class="op">-</span><span class="st"> </span>.<span class="dv">2</span><span class="op">*</span>u
m1 &lt;-<span class="st"> </span>.<span class="dv">5</span>
y1 &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(m1 <span class="op">+</span><span class="st"> </span>v1 <span class="op">-</span><span class="st"> </span>.<span class="dv">3</span><span class="op">*</span>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)

y &lt;-<span class="st"> </span>d<span class="op">*</span>y1 <span class="op">+</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>d)<span class="op">*</span>y0

ivmteSimData &lt;-<span class="st"> </span><span class="kw">data.frame</span>(y,d,z,x)
knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">head</span>(ivmteSimData, <span class="dt">n =</span> <span class="dv">10</span>))</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">y</th>
<th align="right">d</th>
<th align="right">z</th>
<th align="right">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<h3 id="syntax-and-output-overview">Syntax and Output Overview</h3>
<p>The main command of the <strong>ivmte</strong> package is also called <code>ivmte</code>. It has the following basic syntax:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;ivmte&quot;</span>)
results &lt;-<span class="st"> </span><span class="kw">ivmte</span>(<span class="dt">data =</span> AE,
                 <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
                 <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">ivlike =</span> worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
                 <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex,
                 <span class="dt">noisy =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Here's what these required parameters refer to:</p>
<ul>
<li><code>data = AE</code> is the usual reference to the data to be used.</li>
<li><code>target = &quot;att&quot;</code> specifies the target parameter to be the average treatment on the treated (ATT).</li>
<li><code>m0</code> and <code>m1</code> are formulas specifying the MTR functions for the untreated and treated arms, respectively. The symbol <code>u</code> in the formula refers to the unobservable latent variable in the selection equation.</li>
<li><code>ivlike</code> indicates the regressions to be run to create moments to which the model is fit.</li>
<li><code>propensity</code> specifies a model for the propensity score.</li>
</ul>
<p>This is what happens when the code above is run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results &lt;-<span class="st"> </span><span class="kw">ivmte</span>(<span class="dt">data =</span> AE,
                 <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
                 <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">ivlike =</span> worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
                 <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex, 
                 <span class="dt">noisy =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; LP solver: Gurobi ('gurobi')</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Obtaining propensity scores...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Generating target moments...</span>
<span class="co">#&gt;     Integrating terms for control group...</span>
<span class="co">#&gt;     Integrating terms for treated group...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Generating IV-like moments...</span>
<span class="co">#&gt;     Moment 1...</span>
<span class="co">#&gt;     Moment 2...</span>
<span class="co">#&gt;     Moment 3...</span>
<span class="co">#&gt;     Moment 4...</span>
<span class="co">#&gt;     Independent moments: 4 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Performing audit procedure...</span>
<span class="co">#&gt;     Generating initial constraint grid...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Audit count: 1</span>
<span class="co">#&gt;     Minimum criterion: 0</span>
<span class="co">#&gt;     Obtaining bounds...</span>
<span class="co">#&gt;     Violations: 0</span>
<span class="co">#&gt;     Audit finished.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.09835591, -0.08285941]</span></code></pre></div>
<p>When <code>noisy = TRUE</code>, the <code>ivmte</code> function indicates its progress in performing a sequence of intermediate operations. It then runs through an audit procedure to enforce shape constraints. The audit procedure is described in more detail <a href="#audit">ahead</a>. After the audit procedure terminates, <code>ivmte</code> returns bounds on the target parameter, which in this case is the average treatment on the treated (<code>target = &quot;att&quot;</code>). These bounds are the primary output of interest.</p>
<p>The detailed output can be suppressed by passing <code>noisy = FALSE</code> as an additional parameter. By default, detailed output is suppressed. Should the user wish to review the output, it is returned under the entry <code>$messages</code>, regardless of the value of the <code>noisy</code> parameter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results &lt;-<span class="st"> </span><span class="kw">ivmte</span>(<span class="dt">data =</span> AE,
                 <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
                 <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">ivlike =</span> worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
                 <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex,
                 <span class="dt">noisy =</span> <span class="ot">FALSE</span>)
results
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.09835591, -0.08285941]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span>
<span class="kw">cat</span>(results<span class="op">$</span>messages, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; LP solver: Gurobi ('gurobi')</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Obtaining propensity scores...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Generating target moments...</span>
<span class="co">#&gt;     Integrating terms for control group...</span>
<span class="co">#&gt;     Integrating terms for treated group...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Generating IV-like moments...</span>
<span class="co">#&gt;     Moment 1...</span>
<span class="co">#&gt;     Moment 2...</span>
<span class="co">#&gt;     Moment 3...</span>
<span class="co">#&gt;     Moment 4...</span>
<span class="co">#&gt;     Independent moments: 4 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Performing audit procedure...</span>
<span class="co">#&gt;     Generating initial constraint grid...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Audit count: 1</span>
<span class="co">#&gt;     Minimum criterion: 0</span>
<span class="co">#&gt;     Obtaining bounds...</span>
<span class="co">#&gt;     Violations: 0</span>
<span class="co">#&gt;     Audit finished.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.09835591, -0.08285941]</span></code></pre></div>
<h3 id="specifying-the-mtr-functions">Specifying the MTR Functions</h3>
<h4 id="basics">Basics</h4>
<p>The required <code>m0</code> and <code>m1</code> arguments use the standard R formula syntax familiar from functions like <code>lm</code> or <code>glm</code>. However, the formulas involve an unobservable variable, <code>u</code>, which corresponds to the latent propensity to take treatment in the selection equation. This variable can be included in formulas in the same way as other observable variables in the data. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> AE,
             <span class="dt">ivlike =</span>  worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
             <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>yob <span class="op">+</span><span class="st"> </span>u<span class="op">*</span>yob,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>yob <span class="op">+</span><span class="st"> </span>u<span class="op">*</span>yob,
             <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.2987098, 0.1289499]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<p>A restriction that we make for computational purposes is that <code>u</code> can only appear in polynomial terms (perhaps interacted with other variables). Thus, the following raises an error</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;m0&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span><span class="kw">log</span>(u) <span class="op">+</span><span class="st"> </span>yob
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
<span class="co">#&gt; Error: The following terms are not declared properly.</span>
<span class="co">#&gt;   m0: log(u) </span>
<span class="co">#&gt; The unobserved variable 'u' must be declared as a monomial, e.g. u, I(u^3). The monomial can be interacted with other variables, e.g. x:u, x:I(u^3). Expressions where the unobservable term is not a monomial are either not permissible or will not be parsed correctly, e.g. exp(u), I((x * u)^2). Try to rewrite the expression so that 'u' is only included in monomials.</span></code></pre></div>
<p>Names other than <code>u</code> can be used for the selection equation unobservable, but one must remember to pass the option <code>uname</code> to indicate the new name.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;m0&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(v<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>yob <span class="op">+</span><span class="st"> </span>v<span class="op">*</span>yob
args[[<span class="st">&quot;m1&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>v <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(v<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(v<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>yob <span class="op">+</span><span class="st"> </span>v<span class="op">*</span>yob
args[[<span class="st">&quot;uname&quot;</span>]] &lt;-<span class="st"> &quot;v&quot;</span>
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.2987098, 0.1289499]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<p>There are some limitations regarding the use of factor variables. For example, the following formula for <code>m1</code> will trigger an error.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;uname&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> &quot;u&quot;</span>
args[[<span class="st">&quot;m0&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob
args[[<span class="st">&quot;m1&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">factor</span>(yob)<span class="dv">55</span> <span class="op">+</span><span class="st"> </span><span class="kw">factor</span>(yob)<span class="dv">60</span></code></pre></div>
<p>However, one can work around this in a natural way.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;m1&quot;</span>]] &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>(yob <span class="op">==</span><span class="st"> </span><span class="dv">55</span>) <span class="op">+</span><span class="st"> </span>(yob <span class="op">==</span><span class="st"> </span><span class="dv">60</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.09835591, -0.08285941]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<h4 id="polynomial-splines">Polynomial Splines</h4>
<p>In addition to global polynomials in <code>u</code>, <code>ivmte</code> also allows for polynomial splines in <code>u</code> using the keyword <code>uSplines</code>. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> AE,
             <span class="dt">ivlike =</span>  worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
             <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">1</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">2</span>, .<span class="dv">4</span>, .<span class="dv">6</span>, .<span class="dv">8</span>)) <span class="op">+</span><span class="st"> </span>yob,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">2</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">1</span>, .<span class="dv">3</span>, .<span class="dv">5</span>, .<span class="dv">7</span>))<span class="op">*</span>yob,
             <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.4655487, 0.3252209]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<p>The <code>degree</code> refers to the polynomial degree, so that <code>degree = 1</code> is a linear spline, and <code>degree = 2</code> is a quadratic spline. Constant splines, which have an important role in some of the theory developed by Mogstad, Santos, and Torgovitsky (2018), can be implemented with <code>degree = 0</code>. The vector <code>knots</code> indicates the piecewise regions for the spline. Note that <code>0</code> and <code>1</code> are always automatically included as <code>knots</code>, so that only the interior knots need to be specified.</p>
<h4 id="shape-restrictions">Shape Restrictions</h4>
<p>One can also require the MTR functions to satisfy the following nonparametric shape restrictions.</p>
<ul>
<li>Boundedness of the MTR functions, via the parameters <code>m0.lb</code>, <code>m0.ub</code>, <code>m1.lb</code>, and <code>m1.ub</code>, which all take scalar values. In order to produce non-trivial bounds in cases of partial identification, <code>m0.lb</code> and <code>m1.lb</code> are by default set to the smallest value of the response variable (which is inferred from <code>ivlike</code>) that is observed in the data, while <code>m0.ub</code> and <code>m1.ub</code> are set to the largest value.</li>
<li>Boundedness of the MTE function, that is, <code>m1 - m0</code>, by setting <code>mte.lb</code> and <code>mte.ub</code>. By default, these are set to the values logically implied by the values for <code>m0.lb</code>, <code>m0.ub</code>, <code>m1.lb</code>, and <code>m1.ub</code>.</li>
<li>Monotonicity of the MTR functions in <code>u</code> for each value of the other observed variables, via the parameters <code>m0.dec</code>, <code>m0.inc</code>, <code>m1.dec</code>, <code>m1.inc</code>, which all take boolean values.</li>
<li>Monotonicity of the MTE function in <code>u</code>, via the parameters <code>mte.dec</code> and <code>mte.inc</code>.</li>
</ul>
<p>Here is an example with monotonicity restrictions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> AE,
             <span class="dt">ivlike =</span>  worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
             <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">1</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">2</span>, .<span class="dv">4</span>, .<span class="dv">6</span>, .<span class="dv">8</span>)) <span class="op">+</span><span class="st"> </span>yob,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">2</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">1</span>, .<span class="dv">3</span>, .<span class="dv">5</span>, .<span class="dv">7</span>))<span class="op">*</span>yob,
             <span class="dt">m1.inc =</span> <span class="ot">TRUE</span>,
             <span class="dt">m0.inc =</span> <span class="ot">TRUE</span>,
             <span class="dt">mte.dec =</span> <span class="ot">TRUE</span>,
             <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.09250779, 0.090854]</span>
<span class="co">#&gt; Audit terminated successfully after 3 rounds</span></code></pre></div>
<h4 id="the-audit-procedure">The Audit Procedure</h4>
<p>The shape restrictions in the previous section are enforced by adding constraints to a linear program. It is difficult in general to ensure that a function satisfies restrictions such as boundedness or monotonicity, even if that function is known to be a polynomial. This difficulty is addressed in <strong>ivmte</strong> through an auditing procedure.</p>
<p>The auditing procedure is based on two grids: A relatively small <em>constraint grid</em>, and a relatively large <em>audit grid</em>. The MTR functions (and implied MTE function) are made to satisfy the specified shape restrictions on the constraint grid by adding constraints to the linear programs. While this ensures that the MTR functions satisfy the shape restrictions on the constraint grid, it does not ensure that they satisfy the restrictions &quot;everywhere.&quot; Thus, after solving the programs, we evaluate the solution MTR functions on the large audit grid, which is relatively inexpensive computationally. If there are points in the audit grid at which the solution MTRs violate the desired restrictions, then we add some of these points to the constraint grid and repeat the procedure. The procedure ends (the audit is passed), when the solution MTRs satisfy the constraints over the entire audit grid.</p>
<p>There are certain parameters that can be used to tune the audit procedure: The number of initial points in the constraint grid (<code>initgrid.nu</code> and <code>initgrid.nx</code>), the number of points in the audit grid (<code>audit.nu</code> and <code>audit.nx</code>), the maximum number of points that are added from the audit grid to the constraint grid (<code>audit.add</code>) for each constraint, and the maximum number of times the audit procedure is repeated before giving up (<code>audit.max</code>). We have tried to choose defaults for these parameters that should be suitable for most applications. However, if <code>ivmte</code> takes a very long time to run, one might want to try adjusting these parameters. Also, if <code>audit.max</code> is hit, which should be unlikely given the default settings, one should either adjust the settings or examine the <code>audit.grid$violations</code> field of the returned results to see the extent to which the shape restrictions are not satisfied.</p>
<h3 id="specifying-the-target-parameter">Specifying the Target Parameter</h3>
<p>The target parameter is the object the researcher wants to know. <strong>ivmte</strong> has built-in support for conventional target parameters and a class of generalized LATEs. It also has a system that allows users to construct their own target parameters by defining the associated weights.</p>
<h4 id="conventional-target-parameters">Conventional Target Parameters</h4>
<p>The target parameter can be set to the average treatment effect (ATE), average treatment on the treated (ATT), or the average treatment on the untreated by setting <code>target</code> to <code>ate</code>, <code>att</code>, or <code>atu</code>, respectively. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> AE,
             <span class="dt">ivlike =</span>  worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
             <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>yob <span class="op">+</span><span class="st"> </span>u<span class="op">*</span>yob,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>yob <span class="op">+</span><span class="st"> </span>u<span class="op">*</span>yob,
             <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.2987098, 0.1289499]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span>
args[[<span class="st">&quot;target&quot;</span>]] &lt;-<span class="st"> &quot;ate&quot;</span>
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.3800976, 0.2003928]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<h4 id="lates-and-generalized-lates">LATEs and Generalized LATEs</h4>
<p>LATEs can be set as target parameters by passing <code>target = late</code> and including named lists called <code>late.from</code> and <code>late.to</code>. The named lists should contain variable name and value pairs, where the variable names must also appear in the propensity score formula. Typically, one would choose instruments for these variables, although <code>ivmte</code> will let you include control variables as well. We demonstrate this using the simulated data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>d<span class="op">*</span>z,
             <span class="dt">target =</span> <span class="st">&quot;late&quot;</span>,
             <span class="dt">late.from =</span> <span class="kw">c</span>(<span class="dt">z =</span> <span class="dv">1</span>),
             <span class="dt">late.to =</span> <span class="kw">c</span>(<span class="dt">z =</span> <span class="dv">3</span>),
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>x)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.6931532, -0.4397993]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<p>We can condition on covariates in the definition of the LATE by adding the named list <code>late.X</code> as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;late.X&quot;</span>]] =<span class="st"> </span><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">2</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.8419396, -0.2913049]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span>
args[[<span class="st">&quot;late.X&quot;</span>]] =<span class="st"> </span><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">8</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.7721625, -0.3209851]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<p><strong>ivmte</strong> also provides support for generalized LATEs, i.e. LATEs where the intervals of <code>u</code> that are being considered may or may not correspond to points in the support of the propensity score. These objects are useful for a number of extrapolation purposes, see e.g. Mogstad, Santos, and Torgovitsky (2018). They are set with <code>target = &quot;genlate&quot;</code> and the additional scalars <code>genlate.lb</code> and <code>genlate.ub</code>. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>d<span class="op">*</span>z,
             <span class="dt">target =</span> <span class="st">&quot;genlate&quot;</span>,
             <span class="dt">genlate.lb =</span> .<span class="dv">2</span>,
             <span class="dt">genlate.ub =</span> .<span class="dv">4</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>x)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
args[[<span class="st">&quot;genlate.ub&quot;</span>]] &lt;-<span class="st"> </span>.<span class="dv">41</span>
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
args[[<span class="st">&quot;genlate.ub&quot;</span>]] &lt;-<span class="st"> </span>.<span class="dv">42</span>
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.7504255, -0.3182317]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<p>Generalized LATEs can also be made conditional-on-covariates by passing <code>late.X</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;late.X&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">2</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.867551, -0.2750135]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<h4 id="custom-target-parameters">Custom Target Parameters</h4>
<p>Since there are potentially a large and diverse array of target parameters that a researcher might be interested in across various applications, the <strong>ivmte</strong> package also allows the specification of custom target parameters. This is done by specifying the two weighting functions for the target parameters.</p>
<p>To facilitate computation, these functions must be expressible as constant splines in <code>u</code>. For the untreated weights, the knots of the spline are specified with <code>target.knots0</code> and the weights to place in between each knot is given by <code>target.weight0</code>. Since the weighting functions might depend on both the instrument and other covariates, both <code>target.knots0</code> and <code>target.weight0</code> should be lists consisting of functions or scalars. (A scalar is interpreted as a constant function.) Specifying the treated weights works the same way but with <code>target.knots1</code> and <code>target.weight1</code>. Note that the <code>target</code> option is ignored when a set of knots and weights are passed.</p>
<p>Here is an example of using custom weights to replicate the conditional LATE from above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pmodel &lt;-<span class="st"> </span>r<span class="op">$</span>propensity<span class="op">$</span>model <span class="co"># returned from the previous run of ivmte</span>
xeval =<span class="st"> </span><span class="dv">2</span> <span class="co"># x = xeval is the group that is conditioned on</span>
px &lt;-<span class="st"> </span><span class="kw">mean</span>(ivmteSimData<span class="op">$</span>x <span class="op">==</span><span class="st"> </span>xeval) <span class="co"># probability that x = xeval</span>
z.from =<span class="st"> </span><span class="dv">1</span>
z.to =<span class="st"> </span><span class="dv">3</span>
weight1  &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
    <span class="cf">if</span> (x <span class="op">!=</span><span class="st"> </span>xeval) {
        <span class="kw">return</span>(<span class="dv">0</span>)
    } <span class="cf">else</span> {
        xz.from &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> xeval, <span class="dt">z =</span> z.from)
        xz.to &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> xeval, <span class="dt">z =</span> z.to)
        p.from &lt;-<span class="st"> </span><span class="kw">predict</span>(pmodel, <span class="dt">newdata =</span> xz.from, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
        p.to &lt;-<span class="st"> </span><span class="kw">predict</span>(pmodel, <span class="dt">newdata =</span> xz.to, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
        <span class="kw">return</span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>((p.to <span class="op">-</span><span class="st"> </span>p.from) <span class="op">*</span><span class="st"> </span>px))
    }
}
weight0 &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
    <span class="kw">return</span>(<span class="op">-</span><span class="kw">weight1</span>(x))
}
## Define knots (same for treated and control)
knot1 &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
    xz.from &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> x, <span class="dt">z =</span> z.from)
    p.from &lt;-<span class="st"> </span><span class="kw">predict</span>(pmodel, <span class="dt">newdata =</span> xz.from, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
    <span class="kw">return</span>(p.from)
}
knot2 &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
    xz.to &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> x, <span class="dt">z =</span> z.to)
    p.to &lt;-<span class="st"> </span><span class="kw">predict.glm</span>(pmodel, <span class="dt">newdata =</span> xz.to, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
    <span class="kw">return</span>(p.to)
}

args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>d<span class="op">*</span>z,
             <span class="dt">target.knots0 =</span> <span class="kw">c</span>(knot1, knot2),
             <span class="dt">target.knots1 =</span> <span class="kw">c</span>(knot1, knot2),
             <span class="dt">target.weight0 =</span> <span class="kw">c</span>(<span class="dv">0</span>, weight0, <span class="dv">0</span>),
             <span class="dt">target.weight1 =</span> <span class="kw">c</span>(<span class="dv">0</span>, weight1, <span class="dv">0</span>),
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">I</span>(u<span class="op">^</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>x)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.8419396, -0.2913049]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<p>The knot specification here is the same for both the treated and untreated weights. It specifies two knots that depend on whether <code>x == 2</code>, so that there are four knots total when accounting for 0 and 1, which are always included automatically. These four knots divide the interval between 0 and 1 into three regions. The first region is from 0 to the value of the propensity score when evaluated at <code>x</code> and <code>z.from</code>. The second region is between this point and the propensity score evaluated at <code>x</code> and <code>z.to</code>. The third and final region is from this point up to 1.</p>
<p>Since the knot specification creates three regions, three weight functions must be passed. Here, the weights in the first and third regions are set to 0 regardless of the value of <code>x</code> by just passing a scalar <code>0</code>. The weights in the second region are only non-zero when <code>x == 2</code>, in which case they are equal to the inverse of the distance between the second and third knot points. Thus, the weighting scheme applies equal weight to compliers with <code>x == 2</code>, and zero weight to all others. As expected, the resulting bounds match those that we computed above using <code>target == late</code>.</p>
<h3 id="specifying-the-iv--like-estimands">Specifying the IV--Like Estimands</h3>
<p>The IV--like estimands refer to the moments in the data that are used to fit the model. In <strong>ivmte</strong> these are restricted to be only moments that can be expressed as the coefficient in either a linear regression (LR) or two stage least squares (TSLS) regression of the outcome variable on the other variables in the dataset.</p>
<p>There are three aspects that can be changed, which we discuss in order subsequently. First, one can specify one or multiple LR and TSLS formulas from which moments are used. By default, all moments from each formula are used. Second, one can specify that only certain moments from a formula are used. Third, one can specify a subset of the data on which the formula is run, which provides an easy way to nonparametrically condition on observables.</p>
<h4 id="list-of-linear-model-formulas">List of Linear Model Formulas</h4>
<p>The required <code>ivlike</code> option expects a list of R formulas. All of our examples up to now have had a single LR. However, one can include multiple LRs, as well as TSLS regressions using the <code>|</code> syntax familiar from the <strong>AER</strong> package. Each formula must have the same variable on the left-hand side, which is how the outcome variable gets inferred. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  <span class="kw">c</span>(y <span class="op">~</span><span class="st"> </span>(z <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>(z <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>(z <span class="op">==</span><span class="st"> </span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span>x,
                         y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span>x,
                         y <span class="op">~</span><span class="st"> </span>d <span class="op">|</span><span class="st"> </span>z),
             <span class="dt">target =</span> <span class="st">&quot;ate&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">1</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>)) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">1</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>)) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>x)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
<span class="co">#&gt; Warning: The following IV-like specifications do not include the treatment</span>
<span class="co">#&gt; variable: 1. This may result in fewer independent moment conditions than</span>
<span class="co">#&gt; expected.</span>
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.6427017, -0.3727193]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<p>There are 10 moments being fit in this specification. Five of these moments correspond to the constant term, the coefficients on the three dummies <code>(z == 1)</code>, <code>(z == 2)</code> and <code>(z == 3)</code>, and the coefficient on <code>x</code> from the first linear regression. There are three more coefficients from the second regression of <code>y</code> on <code>d</code>, <code>x</code>, and a constant. Finally, there are two moments from the TSLS (simple IV in this case) regression of <code>y</code> on <code>d</code> and a constant, using <code>z</code> and a constant as instruments.</p>
<h4 id="using-only-subcomponents">Using Only Subcomponents</h4>
<p>The default behavior of <code>ivmte</code> is to use all of the moments from each formula included in <code>ivlike</code>. There are reasons one might not want to do this, such as if certain moments are estimated poorly (i.e. with substantial statistical error). For more information, see the discussions in Mogstad, Santos, and Torgovitsky (2018) and Mogstad and Torgovitsky (2018).</p>
<p>One can tell <code>ivmte</code> to only include certain moments and not others by passing the <code>components</code> option. This option expects a list of the same length as the list passed to <code>ivlike</code>. Each component of the list is itself a list that contains the variable names for the coefficients to be included from that formula. The list should be declared using the <code>l</code> function, which is a generalization of the <code>list</code> function. The <code>l</code> function allows the user to list variables and expressions without having to enclose them by quotation marks. For example, the following includes the coefficients on the intercept and <code>x</code> from the first formula, the coefficient on <code>d</code> from the second formula, and all coefficients in the third formula.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;components&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">l</span>(<span class="kw">c</span>(intercept, x), <span class="kw">c</span>(d), )
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.6865291, -0.2573525]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<p>Note that <code>intercept</code> is a reserved word that is used to specify the coefficient on the constant term. If the function <code>list</code> is used to pass the <code>components</code> option, an error will follow.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args[[<span class="st">&quot;components&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(intercept, x), <span class="kw">c</span>(d), )
<span class="co">#&gt; Error in eval(expr, envir, enclos): object 'intercept' not found</span>
args[[<span class="st">&quot;components&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;intercept&quot;</span>, <span class="st">&quot;x&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;d&quot;</span>), <span class="st">&quot;&quot;</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
<span class="co">#&gt; Error in terms.formula(fi, ...): invalid model formula in ExtractVars</span>
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.6865291, -0.2573525]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<h4 id="subsetting">Subsetting</h4>
<p>The formulas can be run conditional on certain subgroups by adding the <code>subset</code> option. This option expects a list of logical statements with the same length as <code>ivlike</code> declared using the <code>l</code> function. One can use the entire data by leaving the statement blank, or inserting a tautology such as <code>1 == 1</code>. For example, the following would run the first regression only on observations with <code>x</code> less than or equal to 9, the second regression on the entire sample, and the third (TSLS) formula only on those observations that have <code>z</code> equal to 1 or 3.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  <span class="kw">c</span>(y <span class="op">~</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>x,
                         y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span>x,
                         y <span class="op">~</span><span class="st"> </span>d <span class="op">|</span><span class="st"> </span>z),
             <span class="dt">subset =</span> <span class="kw">l</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">9</span>, <span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, z <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)),
             <span class="dt">target =</span> <span class="st">&quot;ate&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">3</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>)) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">3</span>, <span class="dt">knots =</span> <span class="kw">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>)) <span class="op">+</span><span class="st"> </span>x,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>x)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
<span class="co">#&gt; Warning: The following IV-like specifications do not include the treatment</span>
<span class="co">#&gt; variable: 1. This may result in fewer independent moment conditions than</span>
<span class="co">#&gt; expected.</span>
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.6697228, -0.3331582]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<h3 id="specifying-the-propensity-score">Specifying the Propensity Score</h3>
<p>The procedure implemented by <code>ivmte</code> requires first estimating the propensity score, that is, the probability that the binary treatment variable is 1, conditional on the instrument and other covariates. This must be specified with the <code>propensity</code> option, which expects a formula. The treatment variable is inferred to be the variable on the left-hand side of the <code>propensity</code>. The default is to estimate the formula as a logit model via the <code>glm</code> command, but this can be changed to <code>&quot;linear&quot;</code> or <code>&quot;probit&quot;</code> with the <code>link</code> option.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results &lt;-<span class="st"> </span><span class="kw">ivmte</span>(<span class="dt">data =</span> AE,
                 <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
                 <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">ivlike =</span> worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
                 <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>yob,
                 <span class="dt">link =</span> <span class="st">&quot;probit&quot;</span>)
results
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.100781, -0.0825274]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span></code></pre></div>
<h3 id="point-identified-models">Point Identified Models</h3>
<p>The default of the <code>ivmte</code> command is to estimate bounds on the target parameter. If one believes the model is in fact point identified, then <code>point == TRUE</code> can be included as an option. Point identification will typically occur when <code>ivlike</code>, <code>components</code> and <code>subset</code> are such that they have more (non-redundant) components than there are free parameters in <code>m0</code> and <code>m1</code>. Bounds in this case will typically shrink to a point.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span><span class="kw">factor</span>(z),
             <span class="dt">target =</span> <span class="st">&quot;ate&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span><span class="kw">factor</span>(z))
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
args[[<span class="st">&quot;point&quot;</span>]] &lt;-<span class="st"> </span><span class="ot">TRUE</span>
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Point estimate of the target parameter: -0.5389508</span></code></pre></div>
<p>Notice that even though <code>point = FALSE</code> and <code>point = TRUE</code> provide a single number for the target parameter in this scenario, that number is slightly different. The reason is that, for computational reasons, <code>point = TRUE</code> uses the usual quadratic loss, while <code>point = FALSE</code> uses absolute deviations loss. One should use <code>point = TRUE</code> if the model is point identified, since it computes confidence intervals and specification tests (discussed ahead) in a well-understood way. The default when <code>point = TRUE</code> is to use the optimal two-step GMM weighting, however the identity weighting can be computed by passing <code>point.eyeweight = TRUE</code>.</p>
<h3 id="confidence-intervals">Confidence Intervals</h3>
<p>The <code>ivmte</code> command does provide functionality for constructing confidence regions, although this is turned off by default, since it can be computationally expensive. To turn it on, set <code>bootstraps</code> to be a positive integer. The confidence intervals are stored under <code>$bounds.ci</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw">ivmte</span>(<span class="dt">data =</span> AE,
           <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
           <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
           <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u <span class="op">+</span><span class="st"> </span>yob,
           <span class="dt">ivlike =</span> worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
           <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex,
           <span class="dt">bootstraps =</span> <span class="dv">50</span>)
<span class="kw">summary</span>(r)
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.09835591, -0.08285941]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round </span>
<span class="co">#&gt; MTR coefficients: 6 </span>
<span class="co">#&gt; Independent/total moments: 4/4 </span>
<span class="co">#&gt; Minimum criterion: 0 </span>
<span class="co">#&gt; LP solver: Gurobi ('gurobi')</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Bootstrapped confidence intervals (backward):</span>
<span class="co">#&gt;     90%: [-0.2013432, -0.01624443]</span>
<span class="co">#&gt;     95%: [-0.2185989, -0.003729633]</span>
<span class="co">#&gt;     99%: [-0.2300391, 0.0006812143]</span>
<span class="co">#&gt; p-value: 0.04</span>
<span class="co">#&gt; Number of bootstraps: 50</span></code></pre></div>
<p>Other options relevent to confidence region construction are <code>bootstraps.m</code>, which indicates the number of observations to draw from the sample on each bootstrap replication, and <code>bootstraps.replace</code> to indicate whether these observations should be drawn with or without replacement. The default is to set <code>bootstraps.m</code> to the sample size of the observed data with <code>bootstraps.replace = TRUE</code>. This corresponds to the usual nonparametric bootstrap. Choosing <code>bootstraps.m</code> to be smaller than the sample size and setting <code>bootstraps.replace</code> to be <code>TRUE</code> or <code>FALSE</code> corresponds to the &quot;m out of n&quot; bootstrap or subsampling, respectively. Regardless of these settings, two types of confidence regions are constructed following the terminology of Andrews and Han (2009); see Shea and Torgovitsky (2019) for more detail, references, and important theoretical caveats to the procedures. While the <code>summary</code> output displays only the backward confidence region, both forward and backward confidence regions are stored under <code>$bounds.ci</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r<span class="op">$</span>bounds.ci
<span class="co">#&gt; $backward</span>
<span class="co">#&gt;      lb.backward   ub.backward</span>
<span class="co">#&gt; 0.9   -0.2013432 -0.0162444309</span>
<span class="co">#&gt; 0.95  -0.2185989 -0.0037296334</span>
<span class="co">#&gt; 0.99  -0.2300391  0.0006812143</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $forward</span>
<span class="co">#&gt;      lb.forward   ub.forward</span>
<span class="co">#&gt; 0.9  -0.1600080 -0.002993087</span>
<span class="co">#&gt; 0.95 -0.1694774  0.022998745</span>
<span class="co">#&gt; 0.99 -0.1961220  0.057292430</span></code></pre></div>
<p>The bootstrapped bounds are returned and stored in <code>r$bounds.bootstraps</code>, and can be used to plot the distribution of bound estimates.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(r<span class="op">$</span>bounds.bootstrap)
<span class="co">#&gt;             [,1]        [,2]</span>
<span class="co">#&gt; [1,] -0.10572194 -0.09980704</span>
<span class="co">#&gt; [2,] -0.23003914 -0.22301125</span>
<span class="co">#&gt; [3,] -0.08073144 -0.05201160</span>
<span class="co">#&gt; [4,] -0.13106416 -0.10112969</span>
<span class="co">#&gt; [5,] -0.10425035 -0.09464221</span>
<span class="co">#&gt; [6,] -0.16136608 -0.15024411</span></code></pre></div>
<p>The dashed lines in the figure below indicate the bounds obtained from the original sample.</p>
<p><img src="data:image/png;base64,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/Oa+++6bMmXK+vXr169f33r7u+66a9GiRQYVC69w/WPGudmqVassFgsvuunkXB4tV91AVQQ8AAAK4hI9AAAKIuABAFAQAQ8AgIIIeAAAFETAAwCgIAIeAAAFEfBApxMSEqJdFhUV9cwzz7hjyo0FCxbMmjVL924B3CACHuiM3nvvvbKysnPnzh04cODMmTP/8R//YXRFAHTGu3sNKqUAAApDSURBVOiBzig8PDw6OtqxPGnSpNWrVxtbDwDdcQYPdF5Wq/Xw4cPvv//+Pffc41hz6NChESNGhISE9O/f/9133xWRoqKioKAg50cmTpy4fPnyioqKkJCQvXv3Pvroo7GxsZMnTzabzSKybdu2gQMHhoWFPf7441VVVYb8UQAcCHigMxozZoymaX5+fvfcc091dfWf/vQnEamoqEhJSXnssceKioqWLFmSlpa2Z8+ea/VgsVh27NixdevWwsLCr776at26dd9+++3kyZPnzJlz7NixsWPHvvPOOx78gwD8GAEPdEaOe/BlZWV/+9vf6uvrf/e734nI1q1bExMTX3jhhaioqHHjxk2fPt1xEn9VLS0tjmfogoKCHnzwwfLy8qysrLFjx86YMaNXr16pqakpKSme+3sAXIGABzojxz346Ojon/70pxs2bMjIyDh79uyZM2cSExOd29x2222nT5/+0QdtNptz2XkX38fHR0RKS0uTkpKc/9p6GYDnEfBAZ9ezZ08Rqauri42NbT3JelFRUVxcnIhYrVZnrhcXFzs30DStdT9xcXH5+fnOZmFhoTurBuACAQ90RjU1NRUVFRUVFSUlJQsXLnzkkUfuuOOORx55JD8/PyMjo6qq6tNPP125cuXTTz8dHh7e0tKycuVKs9m8YsWKgoKCa/X55JNPfvzxx2vWrLlw4cLatWt37tzpyb8IwI8Q8EBn9Ktf/SoyMjIyMnLQoEEREREbN24UkR49euzYsWP9+vW9e/dOS0t7/fXXH3744bCwsNdee23BggV9+/YtKCiYP39+RETEVftMSkratGnT0qVLExMTt2zZkpGR4bgAAMAQmt1uN7oGAB2bxWJpbGwMDw83uhAAPyDgAQBQEJfoAQBQEAEPAICCCHgAABREwAMAoCACHgAABRHwAAAoiIAHAEBBBDwAAAoi4AEAUBABDwCAggh4AAAURMADAKAgAh4AAAUR8AAAKIiABwBAQQQ8AAAKIuABAFAQAQ8AgIIIeAAAFETAAwCgIAIeAAAFEfAAACiIgAcAQEEEPAAACvIzugDAzc5lS0NJu3rw6yYJT+pUjQqK6+zVTfb29ODnI3eGc3YBuBcBD9UVvC1ntrarh663EPCtfVNhO15la08PwX4EPOB2BDw6gW63Sp+n2/jZc5+KuVTXalRg6iLJEW1M6NP19ouWdl0AAHAj+J9oAAAURMADAKAgAh4AAAUR8AAAKIiAB25aWFjYxx9/7MkRs7OzBw0a5NYhFixYMGvWLLcOcR19+vTJyspqveaJJ56YM2eO+0ZUfpcCBDwAAAoi4AFvdPHixYaGBqOrUAq7FJ0NAQ/o49ChQyNGjAgJCenfv/+7774rIvfff/+f//xnEamqqvLx8Zk/f76IWK3W0NDQTz/9VESKiorGjh0bGhp66623Llu2TEQqKirCwsLeeuutmJiYgwcPtu7fbre/+uqrvXv3jouLe/HFF7///vurDlpUVBQUFOT81MSJE5cvX15RURESErJ3795HH300NjZ28uTJZrNZRLZt2zZw4MCwsLDHH3+8qqrKY/vqpmRnZz/88MNLliwZOnRoYmLiwoULbTbbVVcKuxRohYAHdFBRUZGSkvLYY48VFRUtWbIkLS1tz54948aN2717t4h89tlnJpNpz549IvLVV19ZrdYHH3ywubl59OjR//RP/1RQULBq1apFixatX79eROrq6vbu3Xvq1KlRo0a1HiIvL+/kyZMHDhxYt27dunXr3njjjasOeq0KLRbLjh07tm7dWlhY+NVXX61bt+7bb7+dPHnynDlzjh07Nnbs2HfeecfNO6nt9u/f39DQcPjw4S+++OKDDz5YvXr1VVeyS4HWCHhAB1u3bk1MTHzhhReioqLGjRs3ffr0d999d9y4cXv37rVarfv27UtLS8vNza2rq9uzZ8/PfvazgICATz/9NCgo6JVXXomKinrooYeef/757du3i4jVal28eHFcXNyPhggKCkpPT4+Li/vJT37yX//1X1lZWVcd9FoVtrS0OB74CgoKevDBB8vLy7OyssaOHTtjxoxevXqlpqampKS4dRe1h6+v70svvSQiERER8+bNW7NmzVVXskuB1nhVLaCDM2fOJCYmOpu33XZbbm7u4MGDAwICvv7663379q1cufKTTz75/PPP9+zZM2nSJBE5efJkYWFhTEyM81P33nuvYyE2NvbKIWJjY50Xivv163f27NmrDvqjTzkuXDtER0c7Fnx8fESktLQ0KSnJ+a9JSUmNjY1t+eN10rpUR1PTNMdyz549u3Tp4liOj48/ffr0VVeyS4HWCHhAB7GxsR999JGzWVRUFBcXp2namDFjtmzZcurUqbvuuuuhhx7auXPn/v37HVeYo6OjBw4c+OWXXzo+UlFR0dzc7Fh2pMWPlJaWms1mRyCdOHEiISHhqoOKiNVqtdlsjk6Ki4udGzjz0iEuLi4vL8/ZLCws7NWrVzv3Q5v16dMnPz+/9Zpvv/122LBhjuXS0tLGxsbg4GAROXHihCNWr1zJLgVa4xI90BY1NTUVrUyYMCE/Pz8jI6OqqurTTz9duXLl008/LSLjxo1btmzZ/fff7+vrO2rUqNWrVycmJjrOJlNSUk6fPv3mm29WV1cfPnx48ODBO3bsuM6IFotlzpw5586d+/zzz3//+99Pnz79kUceuXLQ8PDwlpaWlStXms3mFStWFBQUXKvDJ5988uOPP16zZs2FCxfWrl27c+dO3ffSjUtNTX3ttdf+8pe/lJSUHDt2bNasWaWlpZMnT3b8q9lsnjNnTllZ2d///vdFixY9++yzV13JLgVaI+CBtnjqqaciW7Hb7Tt27Fi/fn3v3r3T0tJef/31hx9+WERGjx7d2Ng4cuRIERkxYoTFYhk/fryjh9DQ0Ozs7M2bN/fu3XvSpEn/9m//NnXq1GsNFxISMnPmzB49egwePPipp56aNWtWampqjx49rhw0LCzstddeW7BgQd++fQsKCubPnx8REXHVPpOSkjZt2rR06dLExMQtW7ZkZGRceZfaY5544olVq1a9/fbbAwcOHDVqVFlZ2b59+5zX1fv37x8bGzto0KBf/OIXzzzzzG9+85urrmSXAq1pdjvzNkJpnz0m1UfbO13so8V6lmQ0i8XS2NgYHh7eto9/WGw9U29r53SxaQO73OD22dnZL7zwwtGjR12uNFA7dyngDtyDBzqdwMDAwMBAo6tQCrsUXohL9AAAKIiAB+DVUlJSrrwUf9WVAFrjEj06AatZ6k+28bPfV+taiiJa7FLd3MbPWqy6lgLgGgh4dALmc3Iqs+0f73qLfqUoorFF8iptrre7hmC+eAD34yl6qM5SJi3te5uY5idd43WqRgWNLdJsbdf3hqZJqL/mejsA7UDAAwCgIB6yAwBAQQQ8AAAKIuABAFAQAQ8AgIIIeAAAFETAAwCgIAIeAAAFEfAAACiIgAcAQEEEPAAACiLgAQBQEAEPAICCCHgAABT0/wBnM371cLE+wgAAAABJRU5ErkJggg==" /></p>
<p>Confidence regions can also be constructed when <code>point == TRUE</code> in a similar way. The bootstrapped point estimates are returned and stored in <code>r$point.estimate.bootstraps</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> AE,
             <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u,
             <span class="dt">ivlike =</span> worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
             <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex,
             <span class="dt">point =</span> <span class="ot">TRUE</span>,
             <span class="dt">bootstraps =</span> <span class="dv">50</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
<span class="kw">summary</span>(r)
<span class="co">#&gt; </span>
<span class="co">#&gt; Point estimate of the target parameter: -0.09160436</span>
<span class="co">#&gt; MTR coefficients: 4 </span>
<span class="co">#&gt; Independent/total moments: 4/4 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Bootstrapped confidence intervals (nonparametric):</span>
<span class="co">#&gt;     90%: [-0.1869028, -0.02510774]</span>
<span class="co">#&gt;     95%: [-0.2077314, -0.02507778]</span>
<span class="co">#&gt;     99%: [-0.227466, 0.0001054838]</span>
<span class="co">#&gt; p-value: 0.08</span>
<span class="co">#&gt; Number of bootstraps: 50</span></code></pre></div>
<p>The p-value reported in both cases is for the null hypothesis that the target parameter is equal to 0, which we infer here by finding the largest confidence region that does not contain 0. By default, <code>ivmte</code> returns 99%, 95%, and 90% confidence intervals. This can be changed with the <code>levels</code> option.</p>
<h3 id="specification-tests">Specification Tests</h3>
<p>The moment-based framework implemented by <code>ivmte</code> is amenable to specification tests. These tests are based on whether the minimum value of the criterion function is statistically different from 0. In the point identified case, this is the well known GMM overidentification test (Hansen 1982). Here, we implement it via bootstrapping as discussed by Hall and Horowitz (1996), because the moments depend on the estimated propensity score which is estimated in a first stage. In the partially identified case, we implement the misspecification test discussed by Bugni, Canay, and Shi (2015). The specification tests are automatically conducted when <code>bootstraps</code> is positive and the minimum criterion value in the sample problem is larger than 0. However, it can be turned off by setting <code>specification.test = FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> ivmteSimData,
             <span class="dt">ivlike =</span>  y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span><span class="kw">factor</span>(z),
             <span class="dt">target =</span> <span class="st">&quot;ate&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span>u,
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span>u,
             <span class="dt">m0.dec =</span> <span class="ot">TRUE</span>,
             <span class="dt">m1.dec =</span> <span class="ot">TRUE</span>,
             <span class="dt">propensity =</span> d <span class="op">~</span><span class="st"> </span><span class="kw">factor</span>(z),
             <span class="dt">bootstraps =</span> <span class="dv">50</span>)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.6189484, -0.6189484]</span>
<span class="co">#&gt; Audit terminated successfully after 1 round</span>

args[[<span class="st">&quot;ivlike&quot;</span>]] &lt;-<span class="st"> </span>y <span class="op">~</span><span class="st"> </span>d <span class="op">+</span><span class="st"> </span><span class="kw">factor</span>(z) <span class="op">+</span><span class="st"> </span>d<span class="op">*</span><span class="kw">factor</span>(z) <span class="co"># many more moments</span>
args[[<span class="st">&quot;point&quot;</span>]] &lt;-<span class="st"> </span><span class="ot">TRUE</span>
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
<span class="co">#&gt; Warning: If argument 'point' is set to TRUE, then shape restrictions on m0</span>
<span class="co">#&gt; and m1 are ignored, and the audit procedure is not implemented.</span>
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Point estimate of the target parameter: -0.5559325</span></code></pre></div>
<h3 id="plotting-mtrs-and-mtes">Plotting MTRs and MTEs</h3>
<p>After the estimation procedure, the MTR and MTE functions can be plotted for for further analysis. Below is a demonstration of how to generate such plots when the MTR functions contain splines.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">args &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">data =</span> AE,
             <span class="dt">ivlike =</span>  worked <span class="op">~</span><span class="st"> </span>morekids <span class="op">+</span><span class="st"> </span>samesex <span class="op">+</span><span class="st"> </span>morekids<span class="op">*</span>samesex,
             <span class="dt">target =</span> <span class="st">&quot;att&quot;</span>,
             <span class="dt">m0 =</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">2</span>, <span class="dt">knots =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">/</span><span class="dv">3</span>)),
             <span class="dt">m1 =</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="kw">uSplines</span>(<span class="dt">degree =</span> <span class="dv">2</span>, <span class="dt">knots =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">/</span><span class="dv">3</span>)),
             <span class="dt">m1.inc =</span> <span class="ot">TRUE</span>,
             <span class="dt">m0.inc =</span> <span class="ot">TRUE</span>,
             <span class="dt">mte.dec =</span> <span class="ot">TRUE</span>,
             <span class="dt">propensity =</span> morekids <span class="op">~</span><span class="st"> </span>samesex)
r &lt;-<span class="st"> </span><span class="kw">do.call</span>(ivmte, args)
r
<span class="co">#&gt; </span>
<span class="co">#&gt; Bounds on the target parameter: [-0.08484221, 0.08736006]</span>
<span class="co">#&gt; Audit terminated successfully after 2 rounds</span></code></pre></div>
<p>The specification of each uniquely defined spline is stored in the list <code>r$splines.dict</code>. For example, if <code>m0</code> contained only the terms <code>uSplines(degree = 0, knots = 0.5)</code> and <code>x:uSplines(degree = 0, knots = 0.5)</code>, then the list <code>r$splines.dict$m0</code> will contain a single entry, since the two terms above contain the same spline.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">specs0 &lt;-<span class="st"> </span>r<span class="op">$</span>splines.dict<span class="op">$</span>m0[[<span class="dv">1</span>]]
specs0
<span class="co">#&gt; $degree</span>
<span class="co">#&gt; [1] 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $intercept</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $knots</span>
<span class="co">#&gt; [1] 0.3333333 0.6666667</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $gstar.index</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>Since the splines must be constructed as part of the estimation procedure, the variable names for the basis splines are automatically generated according to a naming convention to ensure that each coefficient can be mapped to the correct basis. For example, consider the coefficient estimates for <code>m0</code> corresponding to the lower bound on the treatment effect, which are stored in <code>r$gstar.coef$min.g0</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r<span class="op">$</span>gstar.coef<span class="op">$</span>min.g0
<span class="co">#&gt;  u0S1.1:1  u0S1.2:1  u0S1.3:1  u0S1.4:1  u0S1.5:1 </span>
<span class="co">#&gt; 0.4769580 0.5492969 0.5474110 0.5541465 0.7422579</span></code></pre></div>
<ul>
<li>The first three characters of each variable name, <code>u0S</code>, indicate that the variables corresponds to a spline in <code>m0</code>. A basis splines in <code>m1</code> would instead be assigned a name beginning with <code>u1S</code>.</li>
<li>The next digit is an index assigned to each uniquely defined spline. The corresponding specification in <code>r$splines.dict</code> is the one with the same index in <code>r$splines.dict$gstar.index</code>. This is required to differentiate between splines with the same number of basis functions.</li>
<li>The number that follow the period indexes the basis spline.</li>
<li>As is standard in the R syntax, a colon is used to denote an interaction term. In order to avoid confusion between basis splines and variables in the data set, the names of basis splines always indicate an interaction. In this example, since the spline is not actually interacted with any variable, the name of each basis spline indicates that the function is interacted with the constant 1.</li>
</ul>
<p>For example, <code>u0S1.4:1</code> refers to the fourth basis function of the first spline in <code>m0</code>; whereas <code>u1S2.2:x</code> refers to the second basis function of the second spline in <code>m1</code>, interacted with the variable <code>x</code>.</p>
<p>To plot the MTR, users simply need to construct the appropriate design matrix and multiply it with the coefficient estimates. Below, a design matrix for <code>m0</code> for a grid of 101 points over the unit interval is constructed using the command <code>bSpline</code> from the <code>splines2</code> package. While <strong>ivmte</strong> assumes the boundary knots are always 0 and 1, the user will have to explicitly declare the boundary knots when using the <code>bSpline</code> command. Multiplying the design matrix by <code>r$gstar.coef$min.g0</code> generates the fitted values for <code>m0</code> associated with the lower bound of the treatment effect. Likewise, multiplying the design matrix by <code>r$gstar.coef$max.g0</code> generates the fitted values for <code>m0</code> associated with the upper bound.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">uSeq &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.01</span>)
dmat0 &lt;-<span class="st"> </span><span class="kw">bSpline</span>(<span class="dt">x =</span> uSeq,
                      <span class="dt">degree =</span> specs0<span class="op">$</span>degree,
                      <span class="dt">intercept =</span> specs0<span class="op">$</span>intercept,
                      <span class="dt">knots =</span> specs0<span class="op">$</span>knots,
                      <span class="dt">Boundary.knots =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
m0.min &lt;-<span class="st"> </span>dmat0 <span class="op">%*%</span><span class="st"> </span>r<span class="op">$</span>gstar.coef<span class="op">$</span>min.g0
m0.max &lt;-<span class="st"> </span>dmat0 <span class="op">%*%</span><span class="st"> </span>r<span class="op">$</span>gstar.coef<span class="op">$</span>max.g0</code></pre></div>
<p>The analogous steps can be performed to obtain the fitted values for <code>m1</code>. Taking the difference of the fitted values for <code>m1</code> and <code>m0</code> yields an MTE curve. However, unless there is point identification, the MTR and MTE curves are optimal but not unique. That is, the curves either maximize or minimize the treatment effect parameter, but there are other MTR and MTE curves that are observationally equivalent and yield the same maximal or minimal value of the treatment effect.</p>
<p>Below are plots of the MTR and MTE as functions of unobserved heterogeneity <code>u</code>. The figures on the left correspond to the lower bound of the treatment effect, and the figures on the right correspond to the upper bound.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mte.min &lt;-<span class="st"> </span>m1.min <span class="op">-</span><span class="st"> </span>m0.min
mte.max &lt;-<span class="st"> </span>m1.max <span class="op">-</span><span class="st"> </span>m0.max</code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>In the case of the MTE associated with the lower bound, the monotonicity constraints are all binding, resulting in a constant MTE. If the plots do not satisfy all the shape constraints, this implies the audit grid is not large enough, and that <code>audit.nu</code> should be increased.</p>
<h3 id="plotting-weights">Plotting weights</h3>
<p>This section presents an example of how to plot the average weights associated with the target parameter and IV-like estimands, which may be of interest to the user.</p>
<p>Continuing with the model specification from the previous section, information on the target weights for the treated individuals are stored in the list <code>r$gstar.weights$w1</code>, and the target weights for the untreated are stored in the list <code>r$gstar.weights$w0</code>. These lists contain three entries:</p>
<ol>
<li><code>$lb</code>: A vector of the lower bounds for the values of <code>u</code> where the weight is not 0.</li>
<li><code>$ub</code>: A vector of the upper bounds for the values of <code>u</code> where the weight is not 0.</li>
<li><code>$multiplier</code>: A vector of the weights assigned to agents with <code>u</code> between <code>$lb</code> and <code>$ub</code>.</li>
</ol>
<p>The values of <code>$lb</code> and <code>$ub</code> are obtained from an agent's propensity to take up treatment. The weight assigned to agents outside of that interval is 0.</p>
<p>The list <code>r$s.set</code> contains all the information from the IV-like estimands, including the treated and untreated weights. Information relevant to the first estimand is stored in the list <code>r$s.set$s1$</code>; information relevant to the second estimand is stored in the list <code>r$s.set$s2</code>, and so on. The weights for the first estimand are contained in <code>r$s.set$s1$w0</code> and <code>r$s.set$s1$w1</code>, both of which are lists that take the same structure as described earlier for <code>r$gstar.weights$w0</code> and <code>r$gstar.weights$w1</code>.</p>
<p>Below, the treated weights for the target parameter and IV-like estimands are organized into matrices with columns for the lower bound, upper bound, and multiplier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Target weights
w1 &lt;-<span class="st"> </span><span class="kw">cbind</span>(r<span class="op">$</span>gstar.weights<span class="op">$</span>w1<span class="op">$</span>lb,
                  r<span class="op">$</span>gstar.weights<span class="op">$</span>w1<span class="op">$</span>ub,
                  r<span class="op">$</span>gstar.weights<span class="op">$</span>w1<span class="op">$</span>multiplier)
## IV-like estimand weights
sw1 &lt;-<span class="st"> </span><span class="kw">cbind</span>(r<span class="op">$</span>s.set<span class="op">$</span>s1<span class="op">$</span>w1<span class="op">$</span>lb,
             r<span class="op">$</span>s.set<span class="op">$</span>s1<span class="op">$</span>w1<span class="op">$</span>ub,
             r<span class="op">$</span>s.set<span class="op">$</span>s1<span class="op">$</span>w1<span class="op">$</span>multiplier)
sw2 &lt;-<span class="st"> </span><span class="kw">cbind</span>(r<span class="op">$</span>s.set<span class="op">$</span>s2<span class="op">$</span>w1<span class="op">$</span>lb,
             r<span class="op">$</span>s.set<span class="op">$</span>s2<span class="op">$</span>w1<span class="op">$</span>ub,
             r<span class="op">$</span>s.set<span class="op">$</span>s2<span class="op">$</span>w1<span class="op">$</span>multiplier)
sw3 &lt;-<span class="st"> </span><span class="kw">cbind</span>(r<span class="op">$</span>s.set<span class="op">$</span>s3<span class="op">$</span>w1<span class="op">$</span>lb,
             r<span class="op">$</span>s.set<span class="op">$</span>s3<span class="op">$</span>w1<span class="op">$</span>ub,
             r<span class="op">$</span>s.set<span class="op">$</span>s3<span class="op">$</span>w1<span class="op">$</span>multiplier)
sw4 &lt;-<span class="st"> </span><span class="kw">cbind</span>(r<span class="op">$</span>s.set<span class="op">$</span>s4<span class="op">$</span>w1<span class="op">$</span>lb,
             r<span class="op">$</span>s.set<span class="op">$</span>s4<span class="op">$</span>w1<span class="op">$</span>ub,
             r<span class="op">$</span>s.set<span class="op">$</span>s4<span class="op">$</span>w1<span class="op">$</span>multiplier)
## Assign column names
<span class="kw">colnames</span>(w1) &lt;-
<span class="st">    </span><span class="kw">colnames</span>(sw1) &lt;-
<span class="st">    </span><span class="kw">colnames</span>(sw2) &lt;-
<span class="st">    </span><span class="kw">colnames</span>(sw3) &lt;-
<span class="st">    </span><span class="kw">colnames</span>(sw4) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;lb&quot;</span>, <span class="st">&quot;ub&quot;</span>, <span class="st">&quot;mp&quot;</span>)</code></pre></div>
<p>Since the propensity score model is simply <code>morekids ~ samesex</code>, and <code>samesex</code> is a binary variable, there are only two values of the propensity score. These two values partition the unit interval into three regions, and the average weights will vary across these three regions. These propensity scores can be recovered from the column <code>ub</code> in any of the matrices constructed above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pscore &lt;-<span class="st"> </span><span class="kw">sort</span>(<span class="kw">unique</span>(w1[, <span class="st">&quot;ub&quot;</span>]))
pscore
<span class="co">#&gt; [1] 0.3021445 0.3610127</span></code></pre></div>
<p>More generally, the propensity scores determine the upper bound for the region where the weights are non-zero for the treated weights associated with the IV-like estimands. In the case of the untreated weights associated with the IV-like estimands, the propensity score determines the lower bound.</p>
<p>The code below demonstrates how to calculate the average weights for each interval, and stores the results in a <code>data.frame</code> that will be used to generate the plot. The analogous calculations can be performed to estimate the average weights for the untreated agents.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avg1 &lt;-<span class="st"> </span><span class="ot">NULL</span> ## The data.frame that will contain the average weights
i &lt;-<span class="st"> </span><span class="dv">0</span> ## An index for the type of weight
<span class="cf">for</span> (j <span class="cf">in</span> <span class="kw">c</span>(<span class="st">'w1'</span>, <span class="st">'sw1'</span>, <span class="st">'sw2'</span>, <span class="st">'sw3'</span>, <span class="st">'sw4'</span>)) {
    dt &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">get</span>(j))
    avg &lt;-<span class="st"> </span><span class="kw">rbind</span>(
        ## Average for u in [0, pscore[1])
        <span class="kw">c</span>(<span class="dt">s =</span> i, <span class="dt">d =</span> <span class="dv">1</span>, <span class="dt">lb =</span> <span class="dv">0</span>, <span class="dt">ub =</span> pscore[<span class="dv">1</span>],
          <span class="dt">avgWeight =</span> <span class="kw">mean</span>(dt<span class="op">$</span>mp)),
        ## Average for u in [pscore[1], pscore[2])
        <span class="kw">c</span>(<span class="dt">s =</span> i, <span class="dt">d =</span> <span class="dv">1</span>, <span class="dt">lb =</span> pscore[<span class="dv">1</span>], <span class="dt">ub =</span> pscore[<span class="dv">2</span>],
          <span class="dt">avgWeight =</span> <span class="kw">mean</span>(<span class="kw">as.integer</span>(dt<span class="op">$</span>ub <span class="op">==</span>
<span class="st">                                      </span>pscore[<span class="dv">2</span>]) <span class="op">*</span><span class="st"> </span>dt<span class="op">$</span>mp)),
        ## Average for u in [pscore[2], 1]
        <span class="kw">c</span>(<span class="dt">s =</span> i, <span class="dt">d =</span> <span class="dv">1</span>, <span class="dt">lb =</span> pscore[<span class="dv">2</span>], <span class="dt">ub =</span> <span class="dv">1</span>, <span class="dt">avgWeight =</span> <span class="dv">0</span>))
    avg1 &lt;-<span class="st"> </span><span class="kw">rbind</span>(avg1, avg)
    i &lt;-<span class="st"> </span>i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
}
avg1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(avg1)</code></pre></div>
<ul>
<li>The first region, <code>[0, pscore[1])</code>, contains agents who take up treatment regardless of whether <code>samesex = FALSE</code> or <code>samesex = TRUE</code>. The average weight can therefore be estimated simply by taking the average of the weights assigned to each agent.</li>
<li>The second region, <code>[pscore[1], pscore[2])</code>, contains agents who would take up treatment if <code>samesex = TRUE</code>, but would not take up treatment if <code>samesex = FALSE</code>. The weights for agents with <code>samesex = FALSE</code> are thus 0 is in this region.</li>
<li>Finally, the third region <code>[pscore[2], 1]</code>, contains agents who will not take up treatment regardless of the value of <code>samesex</code>. Since the object of interest is the weights of the treated agents, the average weight in this third region is necessarily 0.</li>
</ul>
<p>The <code>data.frame</code> created above that will be used to generate the plot for the average treated weights takes on the following form.</p>
<table>
<thead>
<tr class="header">
<th align="right">s</th>
<th align="right">d</th>
<th align="right">lb</th>
<th align="right">ub</th>
<th align="right">avgWeight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.3021445</td>
<td align="right">3.0124888</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.3021445</td>
<td align="right">0.3610127</td>
<td align="right">1.5253234</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.3610127</td>
<td align="right">1.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.3021445</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.3021445</td>
<td align="right">0.3610127</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.3610127</td>
<td align="right">1.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.3021445</td>
<td align="right">3.3096749</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.3021445</td>
<td align="right">0.3610127</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.3610127</td>
<td align="right">1.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.3021445</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.3021445</td>
<td align="right">0.3610127</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.3610127</td>
<td align="right">1.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.3021445</td>
<td align="right">-0.5396896</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.3021445</td>
<td align="right">0.3610127</td>
<td align="right">2.7699854</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.3610127</td>
<td align="right">1.0000000</td>
<td align="right">0.0000000</td>
</tr>
</tbody>
</table>
<ul>
<li>The first column indicates the type of weight. A value of <code>0</code> indicates the weight corresponds to the target parameter. Integers greater than 0 indicate the weight corresponds to the IV-like estimand with the same index.</li>
<li>The second column indicates that the weights above correspond to the treated agents.</li>
<li>The third and fourth columns indicate the region in the unit interval that the average weights correspond to.</li>
<li>The final column contains the average weights.</li>
</ul>
<p>Adjusting for overlaps, the table above generates the plot below on the right. The analogous table containing the average untreated weights generates the plot on the left. For clarity, the weights for associated with the intercept have been omitted from both plots.</p>
<p><img src="data:image/png;base64,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lAghtmzZ0rlz54qKCiGEuH1FqKsf5X+laU3xWdaq9wH5Q5N8NgFjoAChCbh3796LL744fvz47OzszZs3L1q06NSpU0KIsrKyw4cPZ2ZmPvbYY0OGDHnrrbcuXrz4zDPPrFmzRghx9+7d6OjoJ5988vLly+vWrYuLi9u2bdvhw4dbt269d+/e0aNHGzdkREREZWXl6dOnhRDFxcW//PJLbGys5kcFBQUxMTHDhg3LyMhYsmTJm2++eejQodr5+/Tp82DUB2+iurp63LhxRUVFe/bsadGihfb8CxcujBw5csaMGWfPnh00aNA//vEPIcTRo0c/+uij+Pj4ixcvenp6zpo1y1j31MrKatWqVevWrQsMDJw6dequXbtKS0stLS1F/c/UrVu3cnNzv//++/Xr18+YMSMnJycxMXHPnj1z5sy5detWnc9U7Vus877Uea2hQ4dGRUW98847N27ceOedd+Lj421tbY11x0UTfJZ1PiAyP5uQHAUITcPRo0fffvttb2/vwMBAR0fHmzdvCiGqq6sXLFjg7++/devW/v37v/rqq15eXtOnTw8PDxdC/PDDD3Z2dh9//LGXl1f//v3/53/+pyEvVTwyCwuLESNGaHYP7N27t3///o6Ojpof7dmzp127du+8846Xl1dsbOykSZM0uwe0+RsStbq6+tVXX/3666937NhR+++iEGLr1q2DBg2aMmWKn5/f5MmTY2JihBDl5eUWFhYVFRW+vr5ffvml5haN5bXXXsvIyJg3b15paenUqVP9/Py++OILzY/qfKbUavW4ceOEEH369FGr1RMmTBBC9O7dW6VSFRcX67z7dd6X+q61fPny/fv3Dxo06I033tD8l2BETfFZ1vmASPtsQnIUIDQB1tbWycnJzz77bPfu3d99993aP2rVqpUQIjs7u/bbc9q1ayeEuHLlSnp6uu8f/v73v2v2pStn5MiRmj+N970ykpOTo4mk0b59+6tXr9bO35Cov/32W01NTZs2bZYvX37fj65du9axY0ftpub0wIEDP/300w8//NDFxeXll1++cOGCse5mZmbmrl273N3dJ0yY8OWXX16/fn3JkiXTp0/Pzc19yDNlZ2cn/jieXXNaCKFSqRpy9+u8L/Vdy9nZecqUKWlpaa+//rqx7nJtTe5ZfvgDIvmzCZlxEDSagP3798+ePfvnn3/u0qWL+KPfaGhGsL+/f+0342RnZ3fq1Mnb2zskJCQ5OVlzZkFBgeb9Zcrp3bv37du3jx49evjw4c2bN2vPb9Wq1bfffqvdzMjI8Pf3r52/IVF9fHy2bNly5MiRQYMGjR07tn379tof+fv7p6X936Eq6enpfn5+WVlZTz/99MSJEwsKCr744ov+/fsXFBRo/1YZ4ubNm+PHj4+Ojtbs/LC0tHzllVemTZtWWFiYmppa3zP1EDrvfp33pb5r/fbbbytXroyMjHz33XfXr19v+P29T5N7lh/+gEj+bEJqj3a8KqC0995777nnntOcjo+Pb9Wq1bVr165fv/63v/1NCLFhwwbN3viKigq1Wp2RkWFvb799+/aioqK1a9fa2trOnTu3uLjYy8trxYoVRUVFycnJbdq02bBhg1qtDgwM/O6774wYtaqqSghx4cIFtVo9ffr0Ll26DB48WP3HYd1ZWVl5eXnOzs7Lly8vLCxMTEx0dnZOTEzMz8/X5q8vqtbRo0cDAwM1p8ePHx8VFaVWq7UrnD9/3sbGZsOGDXl5eZs2bbK1tZ06deqaNWtat259+vTp/Pz8Tz/91MnJ6d69e0a5v/fu3evZs2e/fv1+/vnnnJyc//znP6NGjQoLC6uqqqrzmdIcrlteXq5WqzUHsebn52uWsrKyysnJ0Xn367wvdV6rpqYmKipqwYIF+fn53t7eRnyim+izrPMBkfPZBNRqNQUIjVTtAlRZWTl27FgHB4e2bdvOnz9/9erVHTp0SE1N1f5pUavV33//fefOnd3d3adNmzZjxozPPvtMrVafPn06MjLSwcGhTZs2ixYt0q7s4ODw5ZdfGitq7T+NP/30k+bvhLrWn0a1Wn38+PGIiIiWLVt27NhR89Pafxrri6pV+09jfn6+h4fHli1baq+wZ8+eLl26ODk5Pf/882vWrJk3b97du3enTJni4eFhZ2fXs2fPQ4cOGev+qtXqGzduTJs2LSAgwNbWNigoaOrUqb///ru6nmfq/PnzD/+TqfPu13dfHrzWp59+Gh4erikBX331lZ+fX1FRkVHuchN9lhvygEj4bAJqtVqlVqtNsJ8JUFROTs7ly5f79eun2Rw8ePCECRNqH5+BxunmzZsuLi7W1tbmDgIj4NlE08JB0GgOysrKoqOj9+zZU1ZWlpCQcPz4cc17ZNDIeXp68vey2eDZRNPCHiA0E9u3b1+0aNGNGzfatm27YMGCvn37mjsRAKDxogABAADp8BIYAACQDgUIAABIhwIEAACkQwECAADSoQABAADpUIAAAIB0KEAAAEA6FCAAACAdChAAAJAOBQgAAEiHAgQAAKRDAQIAANKhAAEAAOn8f7tH7gKUrx/+AAAAAElFTkSuQmCC" /></p>
<h2 id="help-feature-requests-and-bug-reports">Help, Feature Requests and Bug Reports</h2>
<p>Please post an issue on the <a href="https://github.com/jkcshea/ivmte/issues">GitHub repository</a>.</p>
<h2 id="references">References</h2>
<p>Andrews, Donald W. K., and Sukjin Han. 2009. “Invalidity of the Bootstrap and the M Out of N Bootstrap for Confidence Interval Endpoints Defined by Moment Inequalities.” <em>Econometrics Journal</em> 12. Blackwell Publishing Ltd: S172–S199. <a href="http://dx.doi.org/10.1111/j.1368-423X.2008.00265.x" class="uri">http://dx.doi.org/10.1111/j.1368-423X.2008.00265.x</a>.</p>
<p>Angrist, Joshua D., and William N. Evans. 1998. “Children and Their Parents’ Labor Supply: Evidence from Exogenous Variation in Family Size.” <em>The American Economic Review</em> 88 (3). American Economic Association: 450–77.</p>
<p>Bugni, Federico A., Ivan A. Canay, and Xiaoxia Shi. 2015. “Specification Tests for Partially Identified Models Defined by Moment Inequalities.” <em>Journal of Econometrics</em> 185 (1): 259–82. <a href="http://www.sciencedirect.com/science/article/pii/S0304407614002577" class="uri">http://www.sciencedirect.com/science/article/pii/S0304407614002577</a>.</p>
<p>Hall, Peter, and Joel L. Horowitz. 1996. “Bootstrap Critical Values for Tests Based on Generalized-Method-of-Moments Estimators.” <em>Econometrica</em> 64 (4). The Econometric Society: 891–916.</p>
<p>Hansen, Lars Peter. 1982. “Large Sample Properties of Generalized Method of Moments Estimators.” <em>Econometrica</em> 50 (4). The Econometric Society: 1029–54.</p>
<p>Heckman, James J., and Edward Vytlacil. 2005. “Structural Equations, Treatment Effects, and Econometric Policy Evaluation.” <em>Econometrica</em> 73 (3). Blackwell Publishing Ltd: 669–738. <a href="http://dx.doi.org/10.1111/j.1468-0262.2005.00594.x" class="uri">http://dx.doi.org/10.1111/j.1468-0262.2005.00594.x</a>.</p>
<p>Imbens, Guido W., and Joshua D. Angrist. 1994. “Identification and Estimation of Local Average Treatment Effects.” <em>Econometrica</em> 62 (2): 467–75.</p>
<p>Mogstad, Magne, and Alexander Torgovitsky. 2018. “Identification and Extrapolation of Causal Effects with Instrumental Variables.” <em>Annual Review of Economics</em> 10 (1). Annual Reviews. <a href="https://dx.doi.org/10.1146/annurev-economics-101617-041813" class="uri">https://dx.doi.org/10.1146/annurev-economics-101617-041813</a>.</p>
<p>Mogstad, Magne, Andres Santos, and Alexander Torgovitsky. 2018. “Using Instrumental Variables for Inference About Policy Relevant Treatment Parameters.” <em>Econometrica</em> 86 (5). The Econometric Society: 1589–1619. <a href="https://dx.doi.org/10.3982/ecta15463" class="uri">https://dx.doi.org/10.3982/ecta15463</a>.</p>
<p>Shea, Joshua Ka Chun, and Alexander Torgovitsky. 2019. “Ivmte: An R Package for Implementing Marginal Treatment Effect Methods.” <em>Working Paper</em>.</p>

</body>
</html>
